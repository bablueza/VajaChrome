import"../chunks/CWj6FrbW.js";import{i as de}from"../chunks/Ba5yZu2p.js";import{l as ge,e as z,o as pe,s as $}from"../chunks/DRVc0eXD.js";import{ao as _e,b as he,s as K,h as M,ae as me,a as ye,m as _,l as be,r as we,c as xe,d as j,e as Y,i as O,af as ke,ai as Ie,f as le,g as ne,p as Ce,aE as F,am as se,a8 as ee,aF as Se,x as D,aG as ae,ac as oe,aH as Ee,aI as Te,al as Ae,aJ as Me,aK as Ne,aL as De,aM as Re,ag as Ve,az as Oe,a9 as Ge,aN as Le,aO as He,aB as Pe,Q as qe,T as B,O as X,W as k,Y as x,X as y,N as ze,R as U,V as Be,t as S,aP as Ke,aQ as Ye}from"../chunks/DaQcMSOs.js";import{b as Q,c as q,r as W,s as Fe}from"../chunks/Bfr3XDz3.js";import{g as te}from"../chunks/GXVL87pi.js";import{i as Ue}from"../chunks/C-YWiG2v.js";import{p as re}from"../chunks/D-PibB20.js";function Qe(a,e){return e}function We(a,e,t,n){for(var i=[],o=e.length,s=0;s<o;s++)Te(e[s].e,i,!0);var v=o>0&&i.length===0&&t!==null;if(v){var g=t.parentNode;Ae(g),g.append(t),n.clear(),E(a,e[0].prev,e[o-1].next)}Me(i,()=>{for(var d=0;d<o;d++){var r=e[d];v||(n.delete(r.k),E(a,r.prev,r.next)),Ne(r.e,!v)}})}function Xe(a,e,t,n,i,o=null){var s=a,v={flags:e,items:new Map,first:null};{var g=a;s=M?K(me(g)):g.appendChild(_e())}M&&ye();var d=null,r=!1,p=be(()=>{var l=t();return oe(l)?l:l==null?[]:se(l)});he(()=>{var l=_(p),f=l.length;if(r&&f===0)return;r=f===0;let c=!1;if(M){var I=we(s)===xe;I!==(f===0)&&(s=j(),K(s),Y(!1),c=!0)}if(M){for(var b=null,u,h=0;h<f;h++){if(O.nodeType===ke&&O.data===Ie){s=O,c=!0,Y(!1);break}var N=l[h],C=n(N,h);u=ve(O,v,b,null,N,C,h,i,e,t),v.items.set(C,u),b=u}f>0&&K(j())}M||Je(l,v,s,i,e,n,t),o!==null&&(f===0?d?le(d):d=ne(()=>o(s)):d!==null&&Ce(d,()=>{d=null})),c&&Y(!0),_(p)}),M&&(s=O)}function Je(a,e,t,n,i,o,s){var v=a.length,g=e.items,d=e.first,r=d,p,l=null,f=[],c=[],I,b,u,h;for(h=0;h<v;h+=1){if(I=a[h],b=o(I,h),u=g.get(b),u===void 0){var N=r?r.e.nodes_start:t;l=ve(N,e,l,l===null?e.first:l.next,I,b,h,n,i,s),g.set(b,l),f=[],c=[],r=l.next;continue}if(Ze(u,I,h),(u.e.f&F)!==0&&le(u.e),u!==r){if(p!==void 0&&p.has(u)){if(f.length<c.length){var C=c[0],w;l=C.prev;var L=f[0],T=f[f.length-1];for(w=0;w<f.length;w+=1)ie(f[w],C,t);for(w=0;w<c.length;w+=1)p.delete(c[w]);E(e,L.prev,T.next),E(e,l,L),E(e,T,C),r=C,l=T,h-=1,f=[],c=[]}else p.delete(u),ie(u,r,t),E(e,u.prev,u.next),E(e,u,l===null?e.first:l.next),E(e,l,u),l=u;continue}for(f=[],c=[];r!==null&&r.k!==b;)(r.e.f&F)===0&&(p??(p=new Set)).add(r),c.push(r),r=r.next;if(r===null)continue;u=r}f.push(u),l=u,r=u.next}if(r!==null||p!==void 0){for(var A=p===void 0?[]:se(p);r!==null;)(r.e.f&F)===0&&A.push(r),r=r.next;var R=A.length;if(R>0){var H=v===0?t:null;We(e,A,H,g)}}ee.first=e.first&&e.first.e,ee.last=l&&l.e}function Ze(a,e,t,n){Se(a.v,e),a.i=t}function ve(a,e,t,n,i,o,s,v,g,d){var r=(g&De)!==0,p=(g&Re)===0,l=r?p?D(i,!1,!1):ae(i):i,f=(g&Ee)===0?s:ae(s),c={i:f,v:l,k:o,a:null,e:null,prev:t,next:n};try{return c.e=ne(()=>v(a,l,f,d),M),c.e.prev=t&&t.e,c.e.next=n&&n.e,t===null?e.first=c:(t.next=c,t.e.next=c.e),n!==null&&(n.prev=c,n.e.prev=c.e),c}finally{}}function ie(a,e,t){for(var n=a.next?a.next.e.nodes_start:t,i=e?e.e.nodes_start:t,o=a.e.nodes_start;o!==n;){var s=Ve(o);i.before(o),o=s}}function E(a,e,t){e===null?a.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function ce(a,e,t){if(a.multiple){if(e==null)return;if(!oe(e))return Le();for(var n of a.options)n.selected=e.includes(G(n));return}for(n of a.options){var i=G(n);if(He(i,e)){n.selected=!0;return}}(!t||e!==void 0)&&(a.selectedIndex=-1)}function $e(a){var e=new MutationObserver(()=>{ce(a,a.__value)});e.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ge(()=>{e.disconnect()})}function je(a,e,t=e){var n=!0;ge(a,"change",i=>{var o=i?"[selected]":":checked",s;if(a.multiple)s=[].map.call(a.querySelectorAll(o),G);else{var v=a.querySelector(o)??a.querySelector("option:not([disabled])");s=v&&G(v)}t(s)}),Oe(()=>{var i=e();if(ce(a,i,n),n&&i===void 0){var o=a.querySelector(":checked");o!==null&&(i=G(o),t(i))}a.__value=i,n=!1}),$e(a)}function G(a){return"__value"in a?a.__value:a.value}const ea="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2016.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20width='485.213px'%20height='485.213px'%20viewBox='0%200%20485.213%20485.213'%20style='enable-background:new%200%200%20485.213%20485.213;'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M471.882,407.567L360.567,296.243c-16.586,25.795-38.536,47.734-64.331,64.321l111.324,111.324%20c17.772,17.768,46.587,17.768,64.321,0C489.654,454.149,489.654,425.334,471.882,407.567z'/%3e%3cpath%20d='M363.909,181.955C363.909,81.473,282.44,0,181.956,0C81.474,0,0.001,81.473,0.001,181.955s81.473,181.951,181.955,181.951%20C282.44,363.906,363.909,282.437,363.909,181.955z%20M181.956,318.416c-75.252,0-136.465-61.208-136.465-136.46%20c0-75.252,61.213-136.465,136.465-136.465c75.25,0,136.468,61.213,136.468,136.465%20C318.424,257.208,257.206,318.416,181.956,318.416z'/%3e%3cpath%20d='M75.817,181.955h30.322c0-41.803,34.014-75.814,75.816-75.814V75.816C123.438,75.816,75.817,123.437,75.817,181.955z'/%3e%3c/g%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3cg%3e%3c/g%3e%3c/svg%3e";var aa=X('<div class="overlay svelte-130lyho"><div class="popup svelte-130lyho"><h2>Api ID คืออะไร</h2> <p>คุณสามารถรับ Api key ได้จากเว็บไซต์ AIForThai</p> <p><a href="https://www.aiforthai.in.th">aiforthai.in.th</a></p> <button>Close</button></div></div>');function ta(a,e){let t=re(e,"show",8,!1),n=re(e,"onClose",8,()=>{});var i=Pe(),o=qe(i);{var s=v=>{var g=aa(),d=k(g),r=x(k(d),6);y(d),y(g),z("click",r,function(...p){var l;(l=n())==null||l.apply(this,p)}),B(v,g)};Ue(o,v=>{t()&&v(s)})}B(a,i)}async function ra(a){return(await fetch('https://api.aiforthai.in.th/lextoplus?text=ทดสอบ&norm="0"',{method:"GET",headers:{"content-type":"application/json",Apikey:a}})).ok}var ia=X("<option> </option>"),la=X('<div class="div-center svelte-1omc7re"><div class="div-row svelte-1omc7re"><div class="div-between svelte-1omc7re"><label for="grpc_url">gRPC URL:</label> <input type="text" id="grpc_url"/></div> <div style="width: 56px;"></div></div> <div class="div-row svelte-1omc7re"><div class="div-between svelte-1omc7re"><label for="key_id">Api Key:</label> <input type="text" id="key_id"/></div> <button class="bnt-magnifier svelte-1omc7re"><img class="img-magnifier svelte-1omc7re" alt="magnifier"/></button></div> <!> <label for="slider"> </label> <input type="range" min="0" max="4" step="1" style="width: 235px"/> <div class="div-between svelte-1omc7re"><label for="voice_name">Voice Name:</label> <select id="voice_name"></select></div> <div><button class="svelte-1omc7re">Save Settings</button> <button class="svelte-1omc7re">Cancel</button></div></div>');function ga(a,e){ze(e,!1);let t=D(q.socket_url),n="",i=D("");const o=["x-low","low","100%","high","x-high"];let s=D(3),v=D(q.speaker),g=["nana","noina","farah","mewzy","farsai","prim","ped","poom","doikham","praw","wayu","namphueng","toon","sanooch","thanwa"],d=D(!1);pe(()=>{{S(t,localStorage.getItem("url")||q.socket_url),n=localStorage.getItem("key")||"",S(i,localStorage.getItem("key")||"");let m=localStorage.getItem("rate")||"high";S(v,localStorage.getItem("voice")||q.speaker),S(s,o.indexOf(m))}});async function r(){let m=!0;_(i)!==""?n!==_(i)&&(await ra(_(i))?n=_(i):(m=!1,alert("Invalid authentication credentials"))):(m=!1,alert("Invalid authentication credentials")),m&&(localStorage.setItem("url",_(t)),localStorage.setItem("key",n),localStorage.setItem("rate",o[_(s)]),localStorage.setItem("voice",_(v)),alert("Settings saved successfully!"),te("/"))}de();var p=la(),l=k(p),f=k(l),c=x(k(f),2);W(c),y(f),Ke(2),y(l);var I=x(l,2),b=k(I),u=x(k(b),2);W(u),y(b);var h=x(b,2),N=k(h);y(h),y(I);var C=x(I,2);ta(C,{get show(){return _(d)},onClose:()=>S(d,!1)});var w=x(C,2),L=k(w);y(w);var T=x(w,2);W(T);var A=x(T,2),R=x(k(A),2);U(()=>{_(v),Ye(()=>{})}),Xe(R,5,()=>g,Qe,(m,P)=>{var V=ia(),fe=k(V,!0);y(V);var Z={};U(()=>{$(fe,_(P)),Z!==(Z=_(P))&&(V.value=(V.__value=_(P))??"")}),B(m,V)}),y(R),y(A);var H=x(A,2),J=k(H),ue=x(J,2);y(H),y(p),U(()=>{Fe(N,"src",ea),$(L,`ความเร็วเสียง: ${o[_(s)]??""}`)}),Q(c,()=>_(t),m=>S(t,m)),Q(u,()=>_(i),m=>S(i,m)),z("click",h,()=>S(d,!0)),Q(T,()=>_(s),m=>S(s,m)),je(R,()=>_(v),m=>S(v,m)),z("click",J,r),z("click",ue,()=>{te("/")}),B(a,p),Be()}export{ga as component};
